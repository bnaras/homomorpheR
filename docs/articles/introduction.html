<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to Homomorphic Computation in R • homomorpheR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to Homomorphic Computation in R">
<meta property="og:description" content="homomorpheR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">homomorpheR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2-5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/homomorphing.html">Maximum Likelihood Estimation</a>
    </li>
    <li>
      <a href="../articles/DHCox.html">Distributed Cox Regression</a>
    </li>
    <li>
      <a href="../articles/QueryNCP.html">Distributed Query Count using Noncooperating parties</a>
    </li>
    <li>
      <a href="../articles/DHCoxNCP.html">Distributed Cox Regression using Noncooperating parties</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/bnaras/homomorpheR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to Homomorphic Computation in
R</h1>
                        <h4 data-toc-skip class="author">Balasubramanian
Narasimhan</h4>
            
            <h4 data-toc-skip class="date">2022-03-30</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/bnaras/homomorpheR/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>A homomorphism is a structure-preserving map from one algebraic
structure to another; see <a href="https://en.wikipedia.org/wiki/Homomorphism" class="external-link">Wikipedia</a>. Privacy
experts are interested in homomorphic computation because it offers a
way to perform computations on encrypted data, either in a distributed
setting or in the cloud, thereby handling many of the headaches
associated with storing/moving/anonymizing data. Homomorphic computation
also finds application in secure voting, verifyable computing, secure
multi-party computation, etc.</p>
<p>A homomorphic encryption scheme is one that provides such a
homomorphism along with the infrastructure to carry out the
computations. The schemes provide algorithms for generating public and
private keys. The public key is distributed to anyone and the private
key is only needed by the one who does the decryption. There are several
such schemes documented in <a href="https://en.wikipedia.org/wiki/Homomorphic_encryption" class="external-link">Wikipedia</a>.
The main thing to know is that there are two flavours: partial and full.
Partial schemes preserve structure for certain specified operations, say
addition only, whereas full schemes do over all the standard arithmetic
operations. The operations mentioned here are all in the context of the
algebraic structure underneath, which for our purposes will be modular
arithmetic where the modulus is some large number.</p>
<p>The current package <code>homomorpheR</code> implements the Paillier
system which is a partially homomorphic; it provides an additive
homomorphism. The implementation here borrows much from the Javascript
implementation for a proof-of-concept system. Therefore, it is not yet
ready for serious work. So there, you’ve been warned.</p>
<p>If you are interested in the mathematical details of the Paillier
crytosystem, the main reference is <span class="citation">(Paillier
1999)</span>. Volkhausen <span class="citation">(2006)</span> provides a
detailed mathematical introduction; Michael O’Keefe <span class="citation">(2008)</span> is a gentler one. A simple application of
the Paillier system for secure vote tallying is in <span class="citation">(Choinyammbu 2009)</span>.</p>
<p>A bit of notation helps. Let <span class="math inline">\(x\)</span>
be any message; for us, it is just a large integer. Denote <span class="math inline">\(E(x)\)</span> as the encrypted message and <span class="math inline">\(D(x)\)</span> as the decryption of <span class="math inline">\(x\)</span> in some scheme. If the scheme is
homomorphic over addition, then we have <span class="math display">\[
E(x) + E(y) = E(x + y). \]</span></p>
<p>This means that calculating <span class="math inline">\(x+y\)</span>
can be done by decrypting the sum of the encrypted values of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Thus, entities need exchange only
encrypted values throughout. This is pictorially shown in the figure
(source: <a href="http://jeremykun.com/tag/homomorphic-encryption" class="external-link">http://jeremykun.com/tag/homomorphic-encryption</a>
) below:</p>
<div style="text-align:center" markdown="1">
<div class="figure">
<img src="assets/homo.jpeg" alt=""><p class="caption">Homomorphic Computation</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="facilities">Facilities<a class="anchor" aria-label="anchor" href="#facilities"></a>
</h2>
<p>As a first step, a public and private key pair needs to be generated.
In generating bits for cryptosystems, a secure random number source is
needed; <code>homomorpheR</code> makes use of the R package
<code>sodium</code> by Jeroen Ooms (based on Daniel J. Bernstein’s
generators) in addition to <code>gmp</code> for arbitrary precision
arithmetic.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/bnaras/homomorpheR" class="external-link">homomorpheR</a></span><span class="op">)</span>
<span class="va">keyPair</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PaillierKeyPair.html">PaillierKeyPair</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>modulusBits <span class="op">=</span> <span class="fl">1024</span><span class="op">)</span></code></pre></div>
<p>Examine the <code>keyPair</code> object:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">keyPair</span></code></pre></div>
<pre><code><span class="co">## &lt;PaillierKeyPair&gt;</span>
<span class="co">##   Public:</span>
<span class="co">##     clone: function (deep = FALSE) </span>
<span class="co">##     getPrivateKey: function () </span>
<span class="co">##     initialize: function (modulusBits) </span>
<span class="co">##     pubkey: PaillierPublicKey, R6</span>
<span class="co">##   Private:</span>
<span class="co">##     privkey: PaillierPrivateKey, R6</span></code></pre>
<p>The <code>pubkey</code> field can be distributed all interested
parties but the private key, obtainable by <code>getPrivateKey()</code>
should be kept secret for decryption.</p>
<p>The main functions are the <code>encrypt</code> function for the
public key, and the <code>decrypt</code> function for the private
key.</p>
</div>
<div class="section level2">
<h2 id="some-tests">Some tests<a class="anchor" aria-label="anchor" href="#some-tests"></a>
</h2>
<p>We can now perform some simple tests. But before that a simple
function that encrypts and decrypts.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encryptAndDecrypt</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">keyPair</span><span class="op">$</span><span class="fu">getPrivateKey</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">decrypt</span><span class="op">(</span><span class="va">keyPair</span><span class="op">$</span><span class="va">pubkey</span><span class="op">$</span><span class="fu">encrypt</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Now we can encrypt and decrypt some numbers.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">gmp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gmp/man/biginteger.html" class="external-link">as.bigz</a></span><span class="op">(</span><span class="fl">1273849</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">a</span> <span class="op">+</span> <span class="fl">10</span>, <span class="fu">encryptAndDecrypt</span><span class="op">(</span><span class="va">a</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
<p>Now with a large set of numbers. The function
<code>random.bigz</code> returns large random numbers.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/random.bigz.html">random.bigz</a></span><span class="op">(</span>nBits <span class="op">=</span> <span class="fl">512</span><span class="op">)</span><span class="op">)</span>
<span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">encryptAndDecrypt</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">md</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] TRUE</span></code></pre>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-choinyaambu2009" class="csl-entry">
Choinyammbu, Sansar. 2009. <span>“Homomorphic Tallying with Paillier
Cryptosystem.”</span> <a href="http://security.hsr.ch/msevote/seminar-papers/HS09_Homomorphic_Tallying_with_Paillier.pdf" class="external-link">http://security.hsr.ch/msevote/seminar-papers/HS09_Homomorphic_Tallying_with_Paillier.pdf</a>.
</div>
<div id="ref-okeefe2008" class="csl-entry">
O’Keefe, Michael. 2008. <span>“The Paillier Cryptosystem: A Look into
the Cryptosystem and Its Potential Application.”</span> <a href="http://www.tcnj.edu/~hagedorn/papers/CapstonePapers/OKeeffe/CapstoneOKeeffeCryptography.pdf" class="external-link">http://www.tcnj.edu/~hagedorn/papers/CapstonePapers/OKeeffe/CapstoneOKeeffeCryptography.pdf</a>.
</div>
<div id="ref-Paillier99" class="csl-entry">
Paillier, Pascal. 1999. <span>“Public-Key Cryptosystems Based on
Composite Degree Residuosity Classes.”</span> In <em>Advances in
Cryptology - <span>EUROCRYPT</span> ’99, International Conference on the
Theory and Application of Cryptographic Techniques, Prague, Czech
Republic, May 2-6, 1999, Proceeding</em>, 223–38. <a href="https://doi.org/10.1007/3-540-48910-X_16" class="external-link">https://doi.org/10.1007/3-540-48910-X_16</a>.
</div>
<div id="ref-volkhausen2006" class="csl-entry">
Volkhausen, Tobias. 2006. <span>“Paillier Cryptosystem: A Mathematical
Introduction.”</span> <a href="http://www2.cs.uni-paderborn.de/cs/ag-bloemer/lehre/proseminar_WS2005/material/Volkhausen_DasPaillierKryptosystem.pdf?PHPSESSID=fd8a3d9a0d9c9ce4e5c00f5abcbd2a5a" class="external-link">http://www2.cs.uni-paderborn.de/cs/ag-bloemer/lehre/proseminar_WS2005/material/Volkhausen_DasPaillierKryptosystem.pdf?PHPSESSID=fd8a3d9a0d9c9ce4e5c00f5abcbd2a5a</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://naras.su.domains" class="external-link">Balasubramanian
Narasimhan</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
