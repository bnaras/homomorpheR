<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to Homomorphic Computation in R • homomorpheR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to Homomorphic Computation in R">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">homomorpheR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/homomorphing.html">Maximum Likelihood Estimation</a></li>
    <li><a class="dropdown-item" href="../articles/DHCox.html">Distributed Cox Regression</a></li>
    <li><a class="dropdown-item" href="../articles/QueryNCP.html">Distributed Query Count using Noncooperating parties</a></li>
    <li><a class="dropdown-item" href="../articles/DHCoxNCP.html">Distributed Cox Regression using Noncooperating parties</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bnaras/homomorpheR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to Homomorphic Computation in R</h1>
                        <h4 data-toc-skip class="author">Balasubramanian
Narasimhan</h4>
            
            <h4 data-toc-skip class="date">2025-04-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bnaras/homomorpheR/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>A homomorphism is a structure-preserving map from one algebraic
structure to another; see <a href="https://en.wikipedia.org/wiki/Homomorphism" class="external-link">Wikipedia</a>. Privacy
experts are interested in homomorphic computation because it offers a
way to perform computations on encrypted data, either in a distributed
setting or in the cloud, thereby handling many of the headaches
associated with storing/moving/anonymizing data. Homomorphic computation
also finds application in secure voting, verifyable computing, secure
multi-party computation, etc.</p>
<p>A homomorphic encryption scheme is one that provides such a
homomorphism along with the infrastructure to carry out the
computations. The schemes provide algorithms for generating public and
private keys. The public key is distributed to anyone and the private
key is only needed by the one who does the decryption. There are several
such schemes documented in <a href="https://en.wikipedia.org/wiki/Homomorphic_encryption" class="external-link">Wikipedia</a>.
The main thing to know is that there are two flavours: partial and full.
Partial schemes preserve structure for certain specified operations, say
addition only, whereas full schemes do over all the standard arithmetic
operations. The operations mentioned here are all in the context of the
algebraic structure underneath, which for our purposes will be modular
arithmetic where the modulus is some large number.</p>
<p>The current package <code>homomorpheR</code> implements the Paillier
system which is a partially homomorphic; it provides an additive
homomorphism. The implementation here borrows much from the Javascript
implementation for a proof-of-concept system. Therefore, it is not yet
ready for serious work. So there, you’ve been warned.</p>
<p>If you are interested in the mathematical details of the Paillier
crytosystem, the main reference is <span class="citation">(Paillier
1999)</span>. Volkhausen <span class="citation">(2006)</span> provides a
detailed mathematical introduction; Michael O’Keefe <span class="citation">(2008)</span> is a gentler one. A simple application of
the Paillier system for secure vote tallying is in <span class="citation">(Choinyammbu 2009)</span>.</p>
<p>A bit of notation helps. Let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
be any message; for us, it is just a large integer. Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">E(x)</annotation></semantics></math>
as the encrypted message and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">D(x)</annotation></semantics></math>
as the decryption of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
in some scheme. If the scheme is homomorphic over addition, then we have
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo stretchy="false" form="postfix">)</mo><mo>+</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false" form="prefix">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false" form="postfix">)</mo><mi>.</mi></mrow><annotation encoding="application/x-tex"> E(x) + E(y) = E(x + y). </annotation></semantics></math></p>
<p>This means that calculating
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x+y</annotation></semantics></math>
can be done by decrypting the sum of the encrypted values of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>.
Thus, entities need exchange only encrypted values throughout. This is
pictorially shown in the figure (source: Jeremy Kun) below:</p>
<div style="text-align:center" markdown="1">
<div class="float">
<img src="assets%2Fhomo.jpeg" alt="Homomorphic Computation"><div class="figcaption">Homomorphic Computation</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="facilities">Facilities<a class="anchor" aria-label="anchor" href="#facilities"></a>
</h2>
<p>As a first step, a public and private key pair needs to be generated.
In generating bits for cryptosystems, a secure random number source is
needed; <code>homomorpheR</code> makes use of the R package
<code>sodium</code> by Jeroen Ooms (based on Daniel J. Bernstein’s
generators) in addition to <code>gmp</code> for arbitrary precision
arithmetic.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bnaras.github.io/homomorpheR">homomorpheR</a></span><span class="op">)</span></span>
<span><span class="va">keyPair</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PaillierKeyPair.html">PaillierKeyPair</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>modulusBits <span class="op">=</span> <span class="fl">1024</span><span class="op">)</span></span></code></pre></div>
<p>Examine the <code>keyPair</code> object:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">keyPair</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;PaillierKeyPair&gt;</span></span>
<span><span class="co">##   Public:</span></span>
<span><span class="co">##     clone: function (deep = FALSE) </span></span>
<span><span class="co">##     getPrivateKey: function () </span></span>
<span><span class="co">##     initialize: function (modulusBits) </span></span>
<span><span class="co">##     pubkey: PaillierPublicKey, R6</span></span>
<span><span class="co">##   Private:</span></span>
<span><span class="co">##     privkey: PaillierPrivateKey, R6</span></span></code></pre>
<p>The <code>pubkey</code> field can be distributed all interested
parties but the private key, obtainable by <code>getPrivateKey()</code>
should be kept secret for decryption.</p>
<p>The main functions are the <code>encrypt</code> function for the
public key, and the <code>decrypt</code> function for the private
key.</p>
</div>
<div class="section level2">
<h2 id="some-tests">Some tests<a class="anchor" aria-label="anchor" href="#some-tests"></a>
</h2>
<p>We can now perform some simple tests. But before that a simple
function that encrypts and decrypts.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">encryptAndDecrypt</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">keyPair</span><span class="op">$</span><span class="fu">getPrivateKey</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">decrypt</span><span class="op">(</span><span class="va">keyPair</span><span class="op">$</span><span class="va">pubkey</span><span class="op">$</span><span class="fu">encrypt</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now we can encrypt and decrypt some numbers.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu">gmp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gmp/man/biginteger.html" class="external-link">as.bigz</a></span><span class="op">(</span><span class="fl">1273849</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">a</span> <span class="op">+</span> <span class="fl">10</span>, <span class="fu">encryptAndDecrypt</span><span class="op">(</span><span class="va">a</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<p>Now with a large set of numbers. The function
<code>random.bigz</code> returns large random numbers.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/random.bigz.html">random.bigz</a></span><span class="op">(</span>nBits <span class="op">=</span> <span class="fl">512</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">encryptAndDecrypt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">md</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-choinyaambu2009" class="csl-entry">
Choinyammbu, Sansar. 2009. <span>“Homomorphic Tallying with Paillier
Cryptosystem.”</span>
</div>
<div id="ref-okeefe2008" class="csl-entry">
O’Keefe, Michael. 2008. <span>“The Paillier Cryptosystem: A Look into
the Cryptosystem and Its Potential Application.”</span>
</div>
<div id="ref-Paillier99" class="csl-entry">
Paillier, Pascal. 1999. <span>“Public-Key Cryptosystems Based on
Composite Degree Residuosity Classes.”</span> In <em>Advances in
Cryptology - <span>EUROCRYPT</span> ’99, International Conference on the
Theory and Application of Cryptographic Techniques, Prague, Czech
Republic, May 2-6, 1999, Proceeding</em>, 223–38. <a href="https://doi.org/10.1007/3-540-48910-X_16" class="external-link">https://doi.org/10.1007/3-540-48910-X_16</a>.
</div>
<div id="ref-volkhausen2006" class="csl-entry">
Volkhausen, Tobias. 2006. <span>“Paillier Cryptosystem: A Mathematical
Introduction.”</span>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://naras.su.domains" class="external-link">Balasubramanian Narasimhan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
